<Alloy>
	<Collection id="device" src="Device" instance="true"/>
	<!--
		This view wraps all of the child views/lists etc. Creates a base layout, vertically aligned.
	-->
	<View id="wrapper" class="deviceContainerView">
		
		<!-- 
		Menu Item to open the bookmarks view
		-->
		<Menu id="menu" platform="android">
			
			<!-- 
				Adding the SearchView to the ActionBar via the Menu feature. Leveraging the standard Android Resource for the search
				icon. Uses shared onChange function with iOS to update listView search text.
			-->
			<MenuItem showAsAction="Ti.Android.SHOW_AS_ACTION_IF_ROOM" title="Search" icon="Ti.Android.R.drawable.ic_menu_search">
				<ActionView>
                    <SearchView ns="Ti.UI.Android" id="searchBar" platform="android" onChange="onSearchChange" />
                </ActionView>
            </MenuItem>
            
            <!-- Android Menu item for accessing the Bookmarks view-->
            <MenuItem id="bookmarkBtn" title="Bookmarks" icon="/images/ic_action_action_bookmark.png"showAsAction="Ti.Android.SHOW_AS_ACTION_IF_ROOM"/>
        </Menu>
        
		<!--
		If you would like the searchbar to scroll up with the listView, you can move this line before the last
		</ListView> tag. However for our implementation, we want the searchBar to be present at all times so we have moved
		it outside of the ListView tags.
		-->
		<SearchBar id="searchBar" barColor="transparent" platform="ios" class="search" onFocus="onSearchFocus" onCancel="onSearchCancel"  onChange="onSearchChange" />
		
		<ListView id="favoritesListView" class="deviceListView" defaultItemTemplate="lightTemplate" onItemclick="onItemClick">
            <ListSection>
            	<HeaderView>
                    <View backgroundColor="#DDD" height="Ti.UI.SIZE">
                        <Label>Fruits</Label>
                    </View>>
                </HeaderView>
                <!-- <ListItem template="{template}" class="deviceItem" btn:address="{address}" btn:title="{displayName}" btn:type="{type}" slider:value="{sliderVal}" sliderLbl:text="{sliderVal}" groupLbl:text="{displayName}" sceneLbl:text="{displayName}" sceneBtnOn:title="On" sceneBtnOff:title="Off" /> -->
            </ListSection>	
			<Templates>
				<ItemTemplate class="deviceItem" name="groupLblTemplate">
                        <Label bindId="groupLbl" class="groupLbl" />
                    </ItemTemplate>
            	<ItemTemplate class="deviceItem" name="sceneTemplate">
                    <View class="horizontal sceneContainer">
                        <Label bindId="sceneLbl" class="sceneLbl"/>
                        <!-- <Button bindId="sceneBtnOn" class="sceneBtn" onClick="sceneOnBtn"/> -->
                        <Button bindId="sceneBtnOn" class="sceneBtn"/>
                        <!-- <Button bindId="sceneBtnOff" class="sceneBtn" onClick="sceneOffBtn"/> -->
                        <Button bindId="sceneBtnOff" class="sceneBtn"/>
                    </View>
            	</ItemTemplate>
				<ItemTemplate class="deviceItem" id="light" name="lightTemplate">
                    <View>
                        <!-- <Button bindId="btn" class="btn" onClick="btnClick" /> -->
                        <Button bindId="btn" class="btn" />
                        <View>
                            <!-- <Slider bindId="slider" class="slider" onStop="sendSliderVal"/> -->
                            <Slider bindId="slider" class="slider"/>
                            <Label bindId="sliderLbl" class="sliderLbl" />
                        </View>
                    </View>
				</ItemTemplate>
			</Templates>

		</ListView>
	</View>
</Alloy>
