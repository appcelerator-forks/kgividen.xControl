<Alloy>

	<!-- create global instance of collection we'll bind -->
	<Collection id="d" src="Device" />
	<Collection src="DeviceInFolder" />

	<Window id="foldersWin" title="Folders" onFocus="refresh">
		<RightNavButton platform='ios'>
			<Button id="editFolderBtn" onClick="editFolderBtnClicked">Edit</Button>
		</RightNavButton>
		<LeftNavButton platform='ios'>
			<Button id="closeFolderBtn" onClick="closeFolderBtnClicked">Close</Button>
		</LeftNavButton>
		<Widget id="addFolderFab" class="fab" src="com.netsmartcompany.floatingActionButton" />

		<Menu platform="android">
			<MenuItem id="editFolderBtn" title="Edit" onClick="editFolderBtnClicked" showAsAction="Ti.Android.SHOW_AS_ACTION_ALWAYS" />
			<MenuItem id="closeFolderBtn" title="Close" onClick="closeFolderBtnClicked" showAsAction="Ti.Android.SHOW_AS_ACTION_ALWAYS" />
		</Menu>

		<ListView id="folderListView" platform="ios,android" defaultItemTemplate="template" onEditaction="onEditactionClick" onItemclick="select">

			<!-- iOS RefreshControl -->
			<RefreshControl platform="ios" id="refreshControl" onRefreshstart="refresh" />

			<Templates>
				<ItemTemplate name="template">
					<View class="listViewIconLabelRow">
						<Label class="folderIcon" />
						<Label bindId="title" class="title" />
					</View>
				</ItemTemplate>
				<ItemTemplate name="editTemplate">
					<View class="listViewIconLabelRow">
						<Label class="folderIcon" />
						<Label bindId="title" class="title" />
					</View>
					<Label class="infoIcon" platform="android" />
				</ItemTemplate>
			</Templates>

			<HeaderView><TextField id="sf" class="searchField"></TextField></HeaderView>
			<ListSection id="folderSection" dataFilter="filter"
						 dataCollection="Device"
						 dataTransform="transform"
					     dataFunction="updateUI">

				<ListItem template="{template}" class="movableItem editableItem" itemId="{id}" searchableText="{displayName}" title:text="{displayName}" id:text="{id}" address:text="{address}" />
			</ListSection>

		</ListView>

	</Window>

</Alloy>